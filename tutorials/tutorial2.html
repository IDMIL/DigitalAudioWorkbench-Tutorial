<!DOCTYPE html>
<!-- TODO:  add the ability to adjust the sampling rate values/frequency rate-->
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="styles_tutorial.css" media="screen" />
    <!-- p5.js begin -->
    <!-- 1) use p5.min.js for optimizing size/transfer -->
    <script src="../p5.min.js"></script>
    <!-- 2) use p5.js for debugging -->
    <!-- <script src="../p5.js"></script> -->
    <!-- p5.js end-->
    <script src="../fili.min.js"></script>
    <script src="panel_tutorial.js"></script>
    <script src="slider_tutorial.js"></script>
    <script src="../fft.js"></script>
    <script src="waves_tutorial.js"></script>
    <script src="widget_tutorial.js"></script>
  </head>
  <body>
    <center>
      <div  class="tab">
        <a href="index.html" class="button_round">&laquo; Prev </a>
        <a href="../index.html" class="button_round">Home </a>
        <a href="tutorial3.html" class="button_round">Next &raquo;</a>
      </div>
      <div  class="tabs">
          <button class="button_round" onclick="samplingSection(event, 'Question')" id="defaultOpen">Question</button>
          <button class="button_round" onclick="samplingSection(event, 'Answer')">Answer</button>
      </div>
      </center>
  <div id = "content-wrap" class="title qs">
    <H1>
      Tutorial 2: Sampling a Waveform in the Time Domain
    </H1>
    <hr> 
  </div>
  
  <div id="Question" class="tabcontent active">
    <div class = "qs">
      <p>
        In the top panel, you can see a sine wave with frequency 440 Hz. Like in the previous tutorial,
        you can hear the sound by clicking on "play original" at the bottom of the page.
      </p>
      <p>
        As seen in the slides for class 1, the input signal would be some kind of continuous signal, whether analogue or acoustic and would be captured either directly or by a microphone. In this case it is a sinusoidal waveform. 
        Before the continuous signal can be converted into a set of 0's and 1's, it must be sampled. A simple one-dimensional sampling system would be represented with equation: y[n] = x(nT<sub>s</sub>)
      </p>
      <p>
        The middle panel represents said sampling signal (impulse train) that will poll the input x at time [n].
      </p>
      <p>
        The bottom panel shows the resulting samples with amplitudes corresponding to the polled input signal. 
      </p>
    </div>
      <div class = "tab_questions qs">
        <!-- onmouseover="questionlist(event, 'q1')" -->
        <button class="button_round ques" onclick="questionlist(event, 'q1')" id="defaulthover">Question 1</button>
        <button class="button_round ques" onclick="questionlist(event, 'q2')">Question 2</button>
        <button class="button_round ques" onclick="questionlist(event, 'q3')">Question 3</button>
        <button class="button_round ques" onclick="questionlist(event, 'q4')">Question 4</button>
        <button class="button_round ques" onclick="questionlist(event, 'q5')">Question 5</button>
      </div>
      <div id = "q1" class = "tab_questions_content qs">
        Let's get to know the panels, bring the zoom to 300% and start to reduce the sample rate to its minimum. What changes in panels 2 and 3?
      </div>
      <div id = "q2" class = "tab_questions_content qs">
        Now type into the input signal frequency 150 Hz, press update and resize the zoom until you see at least one full cycle of the input signal. How many samples do you get in each period?
        Now double the input signal frequency. How many samples do you get per period?
      </div>
      <div id = "q3" class = "tab_questions_content qs">
        Keep the sampling rate at 3 kHz (Nyquist Rate) and set the input signal frequency to 1.5 kHz at the Nyquist Frequency. How many samples per period do you see and where are they? What would the resulting sound look like? By moving the phase slider, what happens to the samples? 
        What would the resulting sound look like? 
      </div>
      <div id = "q4" class = "tab_questions_content qs">
        Now, bypass the Nyquist Frequency to 2700 Hz whilst keeping the sampling rate at 3000 Hz, what do you notice? Can you tell what the resulting frequency would be?
      </div>
      <div id = "q5" class = "tab_questions_content qs">
        Now set the input signal frequency to 750 and the number of harmonics to two.  
        With the sampling rate at 3000 Hz, do you notice something in how the input signal is being sampled?
      </div>
      <main>
        <script>
          const widgetset = new_widget(
                [ new inputSigPanel()
                ,new impulsePanel()
                , new inputPlusSampledPanel_no_binary()
                ],
                [ new freqSlider()
                , new numHarmSlider()
                , new sampleRateSlider()
                , new phaseSlider()
                , new timeZoomSlider()
                ]
                ,["original"]
                ,"Question" //question div id
                ,"qs" //questions class
                
        );
        </script>
        <br>
    </main>
    </div>
    <div id="Answer" class="tabcontent">
      <p>
        These were the core concepts on how a signal is sampled.
        <ul>
          <li>
            Question 1 demonstrates the sampling of a sine wave.
          </li>
          <li>
            Question 2 prepares the user for the concept of input signals that are multiples of the sampling rate.
          </li>
          <li>
            Question 3 further the idea of Q.2. and presents the concept of the Nyquist Frequency. What happens to the signal as it approaches
            it and how the phase of the signal can change the outcome in the creation of DC signals.
          </li>
          <li>
            Question 4 introduces the idea of signal folding when bypassing the Nyquist frequency.
          </li>
          <li>
            Finally Question 5 introduces the idea that such concepts not only affect the base harmonic of a signal but also its nth harmonics.
            Something that must be taken into account as many sounds contain frequencies above the sampling range and this must be filtered out to prevent ghosting.
          </li>
        </ul> 
      </p>
      <!-- Q1 demonstrates how the sinwave is being sampled -->
      <!-- Q2 prepares the user for the concept of input signals that are multiples of the sampling rate -->
      <!-- Q3 Presents the concept of the Nyquist Frequency, what happens to the signal as it approaches 
        it and how the phase of the signal can change the outcome. Also the concepts of a DC signal -->
      <!-- Q4 Introduces the idea of signal folding when bypassing the nyquist frequency -->
      <!-- Q5 Introduces the idea that such concepts not only affects the base harmonic of a signal but also it's nth harmonics.
         Something that must be taken into account as many sounds contain frequencies above the sampling range and this must be filtered out to prevent ghosting.-->
    </div>
    </div>
    <!-- <footer>
      <div>Digital Audio Workbench Tutorial, by Maxwell Gentili-Morin & Marcelo M. Wanderley </div>
      <div>based on the Digital Audio Workbench</div>
      <div>Copyright <a href="//www-new.idmil.org/">IDMIL</a>/McGill University, 2023 </div>
    </footer> -->
    <script>
      function samplingSection(evt, cityName) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("button_round");
        for (i = 0; i < tablinks.length; i++) {
          tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(cityName).style.display = "block";
        evt.currentTarget.className += " active";
      }
      
      // Get the element with id="defaultOpen" and click on it
      document.getElementById("defaultOpen").click();
  
      function questionlist(evt, questions) {
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tab_questions_content");
        for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("ques");
        for (i = 0; i < tablinks.length; i++) {
          tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(questions).style.display = "block";
        evt.currentTarget.className += " active";
      }
      document.getElementById("defaulthover").click();
    </script>
  </body>
</html>
